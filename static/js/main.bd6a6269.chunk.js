(this.webpackJsonpab_react_project=this.webpackJsonpab_react_project||[]).push([[0],{48:function(e,t,c){},49:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),r=c(16),s=c.n(r),i=c(14),o=c(4),j=c(3),d=c(23),l=c(11),u=(c(48),function(){return Object(n.jsx)("div",{className:"footer",children:Object(n.jsx)("span",{children:"Developer Alex - 2020"})})}),O=c.p+"static/media/logo.618dcd90.svg",b=(c(49),function(){return Object(n.jsx)("header",{className:"",children:Object(n.jsx)("nav",{children:Object(n.jsx)("div",{className:"logo",children:Object(n.jsx)(i.b,{to:"/",children:Object(n.jsx)("img",{src:O,alt:"logo"})})})})})}),h=(c(51),function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)(b,{}),e.children,Object(n.jsx)(u,{})]})}),p=(c(52),Object(l.b)((function(e){return e}))((function(e){var t=e.location.data,c=e.categories.categories,r=e.history;Object(a.useEffect)((function(){console.log(function(){var e,n=[],a=Object(d.a)(t.categories);try{for(a.s();!(e=a.n()).done;){var r,s=e.value,i=Object(d.a)(c);try{for(i.s();!(r=i.n()).done;){var o=r.value;s===o.id&&n.push(o.name)}}catch(j){i.e(j)}finally{i.f()}}}catch(j){a.e(j)}finally{a.f()}return n}()),window.scrollTo(0,0)}));return Object(n.jsx)(h,{children:Object(n.jsxs)("div",{className:"details",children:[Object(n.jsx)("div",{className:"back-list",onClick:function(e){return function(){e.length>1?e.goBack():e.push("/")}}(r),children:"< Back to list"}),Object(n.jsx)("h1",{children:t.name}),Object(n.jsxs)("h5",{children:["Categories:",t.categories.map((function(e,t){return Object(n.jsxs)("span",{children:[" ",e,", "]},t)}))]}),Object(n.jsxs)("h5",{children:["SKU:",Object(n.jsxs)("span",{children:[" ",t.sku]})]}),Object(n.jsxs)("h5",{children:["Price:",Object(n.jsxs)("span",{children:[" $",t.price.toFixed(2)]})]}),Object(n.jsx)("h5",{children:"Description:"}),Object(n.jsx)("div",{dangerouslySetInnerHTML:{__html:t.description}})]})})}))),g=c(19),f=c(13),x=c.n(f),m=c(18),v=c(37),N=c.n(v).a.create({baseURL:"https://www.adorebeauty.com.au/api/ecommerce/catalog"}),y=function(e){return function(){var t=Object(m.a)(x.a.mark((function t(c,n){var a,r,s,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:"PRODUCTS_LOADING"}),e&&(console.log(e),c({type:"PRODUCTS_RELOAD",categories:e})),a=n().products,r=a.page,s=a.limit,i=a.categories,t.next=6,N.get("/products?page=".concat(r,"&limit=").concat(s).concat(i?"&categories:in="+i:"")).then((function(e){console.log(e),e.data.data.length>0&&c({type:"PRODUCTS_LOADOVER",data:e.data.data})}));case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,c){return t.apply(this,arguments)}}()},D=(c(71),function(e){var t=e.data;return Object(n.jsx)("div",{className:"table-box",children:Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"ID"}),Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Sku"})]})}),Object(n.jsx)("tbody",{children:t.map((function(t){return Object(n.jsxs)("tr",{onClick:function(){e.history.push({pathname:"/details",data:t})},children:[Object(n.jsx)("td",{children:t.id}),Object(n.jsx)("td",{children:t.name}),Object(n.jsx)("td",{children:t.sku})]},t.id)}))})]})})}),L=(c(72),function(e){for(var t=e.dataPerPage,c=e.totalData,r=e.paginate,s=[],i=Object(a.useState)(1),o=Object(g.a)(i,2),j=o[0],d=o[1],l=Math.ceil(c/t),u=1;u<=l;u++)s.push(u);return Object(a.useEffect)((function(){var e=sessionStorage.getItem("pageNumber");e&&d(e)}),[]),Object(n.jsx)("nav",{children:Object(n.jsx)("ul",{className:"pagination",children:s.map((function(e){return Object(n.jsx)("li",{className:"".concat(e==j?"page-active":""," page-item"),onClick:function(){d(e),r(e)},children:Object(n.jsx)("a",{href:"#",className:"page-link",children:e})},e)}))})})}),S=function(e){return function(){var t=Object(m.a)(x.a.mark((function t(c,n){var a,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:"CATEGORIES_LOADING"}),a=n().categories.limit,r=e.join(","),t.next=6,N.get("/categories?".concat(r?"id:in="+r:"").concat(a>0?"&limit="+a:"")).then((function(e){console.log(e),e.data.data.length>0&&c({type:"CATEGORIES_LOADINGOVER",data:e.data.data})}));case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,c){return t.apply(this,arguments)}}()},E=(c(73),function(e){var t=e.products.data,c=e.categories.isLoading,r=e.categories.categories;Object(a.useEffect)((function(){var c=[];t.map((function(e){e.categories.length>0&&(c=c.concat(e.categories))})),function(t){e.dispatch(S(t))}(c=Array.from(new Set(c)))}),[]);return Object(n.jsx)("div",{className:"categories-block",children:c?Object(n.jsx)("span",{}):r.slice(0,6).map((function(t){return Object(n.jsx)("span",{className:"categories-order",onClick:function(){var c;c=t.id,e.dispatch(y(c)),sessionStorage.setItem("pageNumber",1)},children:t.name},t.id)}))})}),I=(c(74),Object(l.b)((function(e){return Object(j.a)({},e)}))((function(e){var t=e.products.data,c=Object(a.useState)(1),r=Object(g.a)(c,2),s=r[0],i=r[1],o=10*s,d=o-10,l=t.slice(d,o);function u(e){i(e),sessionStorage.setItem("pageNumber",e)}var O=e.products.isLoading;return Object(a.useEffect)((function(){var t=sessionStorage.getItem("pageNumber");t&&u(t),e.dispatch(y())}),[]),Object(n.jsxs)(h,{children:[Object(n.jsx)(E,Object(j.a)({},e)),O?Object(n.jsx)("div",{className:"loading-icon",children:Object(n.jsx)("div",{className:"spinner-border ",role:"status",children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(n.jsxs)("div",{className:"table",children:[Object(n.jsx)(D,Object(j.a)(Object(j.a)({},e),{},{data:l})),Object(n.jsx)(L,Object(j.a)(Object(j.a)({},e),{},{dataPerPage:10,totalData:t.length,paginate:u}))]})]})}))),R=[{path:"/",exact:!0,render:function(e){return Object(n.jsx)(I,Object(j.a)({},e))}},{path:"/details",exact:!1,render:function(e){return Object(n.jsx)(p,Object(j.a)({},e))}}],k=function(){return Object(n.jsx)(o.c,{children:R.map((function(e,t){return Object(n.jsx)(o.a,{path:e.path,exact:e.exact,render:e.render},t)}))})};var A=function(){return Object(n.jsx)(i.a,{children:Object(n.jsx)(k,{})})},_=c(12),C={products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[],isLoading:!1,page:1,limit:100,id:[],categories:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCTS_RELOAD":return Object(j.a)(Object(j.a)({},e),{},{categories:t.categories});case"PRODUCTS_LOADING":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0});case"PRODUCTS_LOADOVER":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,data:t.data})}return e},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,categories:[],limit:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CATEGORIES_LOADING":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0});case"CATEGORIES_LOADINGOVER":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,categories:t.data})}return e}},w=c(38),T=Object(_.d)(Object(_.c)(C),Object(_.a)(w.a));s.a.render(Object(n.jsx)(l.a,{store:T,children:Object(n.jsx)(A,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.bd6a6269.chunk.js.map