(this.webpackJsonpab_react_project=this.webpackJsonpab_react_project||[]).push([[0],{51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},80:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(0),r=c(15),i=c.n(r),s=c(23),o=c(4),j=c(3),d=(c(24),c(11)),u=(c(51),function(){return Object(a.jsx)("div",{className:"footer",children:Object(a.jsx)("span",{children:"Developer Alex - 2020"})})}),l=c.p+"static/media/logo.618dcd90.svg",O=(c(52),function(){return Object(a.jsx)("header",{className:"",children:Object(a.jsx)("nav",{children:Object(a.jsx)("div",{className:"logo",children:Object(a.jsx)("a",{href:"/",children:Object(a.jsx)("img",{src:l,alt:"logo"})})})})})}),b=(c(53),function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{}),e.children,Object(a.jsx)(u,{})]})}),h=(c(54),Object(d.b)((function(e){return e}))((function(e){var t=e.location.data,c=(e.categories.categories,e.history);console.log(e),Object(n.useEffect)((function(){}));return Object(a.jsx)(b,{children:Object(a.jsxs)("div",{className:"details",children:[Object(a.jsx)("div",{className:"back-list",onClick:function(e){return function(){e.length>1?e.goBack():e.push("/")}}(c),children:"< Back to list"}),Object(a.jsx)("h1",{children:t.name}),Object(a.jsxs)("h5",{children:["Categories:",t.categories.map((function(e,t){return Object(a.jsxs)("span",{children:[" ",e,", "]},t)}))]}),Object(a.jsxs)("h5",{children:["SKU:",Object(a.jsxs)("span",{children:[" ",t.sku]})]}),Object(a.jsxs)("h5",{children:["Price:",Object(a.jsxs)("span",{children:[" $",t.price.toFixed(2)]})]}),Object(a.jsx)("h5",{children:"Description:"}),Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:t.description}})]})})}))),p=c(18),g=c(13),f=c.n(g),x=c(17),m=c(39),v=c.n(m),N=c(40),D=c.n(N),L=v.a.create({baseURL:"https://www.adorebeauty.com.au/api/ecommerce/catalog",paramsSerializer:function(e){return D.a.stringify(e,{arrayFormat:"indices"})}}),S=function(e){return function(){var t=Object(x.a)(f.a.mark((function t(c,a){var n,r,i,s,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:"PRODUCTS_LOADING"}),e&&(console.log(e),c({type:"PRODUCTS_RELOAD",categories:e})),n=a().products,r=n.page,i=n.limit,s=n.categories,o={categories:s,page:r,limit:i},t.next=7,L.get("/products",{params:o}).then((function(e){e.data.data.length>0&&c({type:"PRODUCTS_LOADOVER",data:e.data.data})}));case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,c){return t.apply(this,arguments)}}()},y=(c(75),function(e){var t=e.data;return Object(a.jsx)("div",{className:"table-box",children:Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"ID"}),Object(a.jsx)("th",{children:"Name"}),Object(a.jsx)("th",{children:"Sku"})]})}),Object(a.jsx)("tbody",{children:t.map((function(t){return Object(a.jsxs)("tr",{onClick:function(){e.history.push({pathname:"/details",data:t})},children:[Object(a.jsx)("td",{children:t.id}),Object(a.jsx)("td",{children:t.name}),Object(a.jsx)("td",{children:t.sku})]},t.id)}))})]})})}),E=(c(76),function(e){for(var t=e.dataPerPage,c=e.totalData,r=e.paginate,i=[],s=Object(n.useState)(1),o=Object(p.a)(s,2),j=o[0],d=o[1],u=Math.ceil(c/t),l=1;l<=u;l++)i.push(l);return Object(n.useEffect)((function(){var e=sessionStorage.getItem("pageNumber");e&&d(e)}),[]),Object(a.jsx)("nav",{children:Object(a.jsx)("ul",{className:"pagination",children:i.map((function(e){return Object(a.jsx)("li",{className:"".concat(e==j?"page-active":""," page-item"),onClick:function(){d(e),r(e)},children:Object(a.jsx)("a",{href:"#",className:"page-link",children:e})},e)}))})})}),R=function(e){return function(){var t=Object(x.a)(f.a.mark((function t(c,a){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:"CATEGORIES_LOADING"}),n=a().categories.limit,r=e.join(","),t.next=6,L.get("/categories?id:in=".concat(r,"&limit=").concat(n)).then((function(e){e.data.data.length>0&&c({type:"CATEGORIES_LOADINGOVER",data:e.data.data})}));case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,c){return t.apply(this,arguments)}}()},k=(c(77),function(e){var t=e.products.data,c=e.categories.isLoading,r=e.categories.categories;Object(n.useEffect)((function(){var c=[];t.map((function(e){e.categories.length>0&&(c=c.concat(e.categories))})),function(t){e.dispatch(R(t))}(c=Array.from(new Set(c)))}),[]);return Object(a.jsx)("div",{className:"categories-block",children:c?Object(a.jsx)("span",{}):r.slice(0,6).map((function(t){return Object(a.jsx)("span",{className:"categories-order",onClick:function(){var c;c=t.id,e.dispatch(S(c))},children:t.name},t.id)}))})}),A=(c(78),Object(d.b)((function(e){return Object(j.a)({},e)}))((function(e){var t=e.products.data,c=Object(n.useState)(1),r=Object(p.a)(c,2),i=r[0],s=r[1],o=10*i,d=o-10,u=t.slice(d,o);function l(e){s(e),sessionStorage.setItem("pageNumber",e)}var O=e.products.isLoading;return Object(n.useEffect)((function(){var t=sessionStorage.getItem("pageNumber");t&&l(t),e.dispatch(S())}),[]),Object(a.jsxs)(b,{children:[Object(a.jsx)(k,Object(j.a)({},e)),O?Object(a.jsx)("div",{className:"loading-icon",children:Object(a.jsx)("div",{className:"spinner-border ",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(a.jsxs)("div",{className:"table",children:[Object(a.jsx)(y,Object(j.a)(Object(j.a)({},e),{},{data:u})),Object(a.jsx)(E,Object(j.a)(Object(j.a)({},e),{},{dataPerPage:10,totalData:t.length,paginate:l}))]})]})}))),I=[{path:"/",exact:!0,render:function(e){return Object(a.jsx)(A,Object(j.a)({},e))}},{path:"/details",exact:!1,render:function(e){return Object(a.jsx)(h,Object(j.a)({},e))}}],_=function(){return Object(a.jsx)(o.c,{children:I.map((function(e,t){return Object(a.jsx)(o.a,{path:e.path,exact:e.exact,render:e.render},t)}))})};var C=function(){return Object(a.jsx)(s.a,{children:Object(a.jsx)(_,{})})},w=c(12),P={products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[],isLoading:!1,page:1,limit:100,id:[],categories:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCTS_RELOAD":return Object(j.a)(Object(j.a)({},e),{},{categories:t.categories});case"PRODUCTS_LOADING":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0});case"PRODUCTS_LOADOVER":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,data:t.data})}return e},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,categories:[],limit:2e3},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CATEGORIES_LOADING":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0});case"CATEGORIES_LOADINGOVER":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,categories:t.data})}return e}},T=c(41),G=Object(w.d)(Object(w.c)(P),Object(w.a)(T.a));i.a.render(Object(a.jsx)(d.a,{store:G,children:Object(a.jsx)(C,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.742b3632.chunk.js.map