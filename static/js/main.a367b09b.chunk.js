(this.webpackJsonpab_react_project=this.webpackJsonpab_react_project||[]).push([[0],{51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},80:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),r=c(15),i=c.n(r),s=c(22),o=c(3),j=c(4),d=(c(23),c(11)),u=(c(51),function(){return Object(n.jsx)("div",{className:"footer",children:Object(n.jsx)("span",{children:"Developer Alex - 2020"})})}),l=c.p+"static/media/logo.618dcd90.svg",O=(c(52),function(){return Object(n.jsx)("header",{className:"",children:Object(n.jsx)("nav",{children:Object(n.jsx)("div",{className:"logo",children:Object(n.jsx)("a",{href:"/",children:Object(n.jsx)("img",{src:l,alt:"logo"})})})})})}),b=(c(53),function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)(O,{}),e.children,Object(n.jsx)(u,{})]})}),h=(c(54),Object(d.b)((function(e){return e}))((function(e){var t=e.location.data,c=(e.categories.categories,e.history);console.log(e),Object(a.useEffect)((function(){}));return Object(n.jsx)(b,{children:Object(n.jsxs)("div",{className:"details",children:[Object(n.jsx)("div",{className:"back-list",onClick:function(e){return function(){e.length>1?e.goBack():e.push("/")}}(c),children:"< Back to list"}),Object(n.jsx)("h1",{children:t.name}),Object(n.jsxs)("h5",{children:["Categories:",t.categories.map((function(e,t){return Object(n.jsxs)("span",{children:[" ",e,", "]},t)}))]}),Object(n.jsxs)("h5",{children:["SKU:",Object(n.jsxs)("span",{children:[" ",t.sku]})]}),Object(n.jsxs)("h5",{children:["Price:",Object(n.jsxs)("span",{children:[" $",t.price.toFixed(2)]})]}),Object(n.jsx)("h5",{children:"Description:"}),Object(n.jsx)("div",{dangerouslySetInnerHTML:{__html:t.description}})]})})}))),p=c(41),f=c(13),x=c.n(f),g=c(17),m=c(38),v=c.n(m),N=c(39),D=c.n(N),L=v.a.create({baseURL:"https://www.adorebeauty.com.au/api/ecommerce/catalog",paramsSerializer:function(e){return D.a.stringify(e,{arrayFormat:"indices"})}}),y=function(e){return function(){var t=Object(g.a)(x.a.mark((function t(c,n){var a,r,i,s,o;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:"PRODUCTS_LOADING"}),e&&(console.log(e),c({type:"PRODUCTS_RELOAD",categories:e})),a=n().products,r=a.page,i=a.limit,s=a.categories,o={categories:s,page:r,limit:i},t.next=7,L.get("/products",{params:o}).then((function(e){e.data.data.length>0&&c({type:"PRODUCTS_LOADOVER",data:e.data.data})}));case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,c){return t.apply(this,arguments)}}()},E=(c(75),function(e){var t=e.data;return Object(n.jsx)("div",{className:"table-box",children:Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"ID"}),Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Sku"})]})}),Object(n.jsx)("tbody",{children:t.map((function(t){return Object(n.jsxs)("tr",{onClick:function(){e.history.push({pathname:"/details",data:t})},children:[Object(n.jsx)("td",{children:t.id}),Object(n.jsx)("td",{children:t.name}),Object(n.jsx)("td",{children:t.sku})]},t.id)}))})]})})}),R=(c(76),function(e){for(var t=e.dataPerPage,c=e.totalData,a=e.paginate,r=[],i=Math.ceil(c/t),s=1;s<=i;s++)r.push(s);return Object(n.jsx)("nav",{children:Object(n.jsx)("ul",{className:"pagination",children:r.map((function(e){return Object(n.jsx)("li",{className:"page-item",onClick:function(){return a(e)},children:Object(n.jsx)("a",{href:"#",className:"page-link",children:e})},e)}))})})}),k=function(e){return function(){var t=Object(g.a)(x.a.mark((function t(c,n){var a,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:"CATEGORIES_LOADING"}),a=n().categories.limit,r=e.join(","),t.next=6,L.get("/categories?id:in=".concat(r,"&limit=").concat(a)).then((function(e){e.data.data.length>0&&c({type:"CATEGORIES_LOADINGOVER",data:e.data.data})}));case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,c){return t.apply(this,arguments)}}()},A=(c(77),function(e){var t=e.products.data,c=e.categories.isLoading,r=e.categories.categories;Object(a.useEffect)((function(){var c=[];t.map((function(e){e.categories.length>0&&(c=c.concat(e.categories))})),function(t){e.dispatch(k(t))}(c=Array.from(new Set(c)))}),[]);return Object(n.jsx)("div",{className:"categories-block",children:c?Object(n.jsx)("span",{}):r.slice(0,5).map((function(t){return Object(n.jsx)("span",{className:"categories-order",onClick:function(){var c;c=t.id,e.dispatch(y(c))},children:t.name},t.id)}))})}),S=(c(78),Object(d.b)((function(e){return Object(j.a)({},e)}))((function(e){var t=e.products.data,c=Object(a.useState)(1),r=Object(p.a)(c,2),i=r[0],s=r[1],o=10*i,d=o-10,u=t.slice(d,o);var l=e.products.isLoading;return Object(a.useEffect)((function(){e.dispatch(y())}),[]),Object(n.jsxs)(b,{children:[Object(n.jsx)(A,Object(j.a)({},e)),l?Object(n.jsx)("div",{className:"loading-icon",children:Object(n.jsx)("div",{className:"spinner-border ",role:"status",children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(n.jsxs)("div",{className:"table",children:[Object(n.jsx)(E,Object(j.a)(Object(j.a)({},e),{},{data:u})),Object(n.jsx)(R,{dataPerPage:10,totalData:t.length,paginate:function(e){s(e)}})]})]})}))),_=[{path:"/",exact:!0,render:function(e){return Object(n.jsx)(S,Object(j.a)({},e))}},{path:"/details",exact:!1,render:function(e){return Object(n.jsx)(h,Object(j.a)({},e))}}],C=function(){return Object(n.jsx)(o.c,{children:_.map((function(e,t){return Object(n.jsx)(o.a,{path:e.path,exact:e.exact,render:e.render},t)}))})};var I=function(){return Object(n.jsx)(s.a,{children:Object(n.jsx)(C,{})})},w=c(12),P={products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[],isLoading:!1,page:1,limit:100,id:[],categories:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCTS_RELOAD":return Object(j.a)(Object(j.a)({},e),{},{categories:t.categories});case"PRODUCTS_LOADING":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0});case"PRODUCTS_LOADOVER":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,data:t.data})}return e},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,categories:[],limit:2e3},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CATEGORIES_LOADING":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0});case"CATEGORIES_LOADINGOVER":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,categories:t.data})}return e}},T=c(40),G=Object(w.d)(Object(w.c)(P),Object(w.a)(T.a));i.a.render(Object(n.jsx)(d.a,{store:G,children:Object(n.jsx)(I,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.a367b09b.chunk.js.map